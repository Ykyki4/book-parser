# book-parser

Утилита используется для автоматического скачивания книг с сайта [tululu.org](https://tululu.org) в формате txt и (если имеется), скачивается картинка.

## Установка
1. Скачайте python3.
1. Изолируйте проект с помощью pipenv/venv.
1. Используйте pip для установки всех пакетов:

    ```pip install -r requirements.txt```

## Использование

Когда вы уже установили утилиту: 
* Зайдите в терминал (Если у вас Windows, надо найти приложение cmd в поиске пуск) 
* Перейдите в папку с утилитой с помощью команду `cd путь`
### В репозитории существует два скрипта:
 
#### tululu.py

Запускайте скрипт с двумя аргументами, первый это от какого id книги скачивать, второй до какого. Пример команды:
    
    ```python tululu.py 20 30```
    
После чего, в терминал будет выводиться название книги и её жанры, если книги под таким id не существует, в терминал выведется это. В папке с скриптом, будут созданы две папки books, images, далее в папку books скачается книга в txt формате, а в папку images скачается картинка в png, если картинки нет, скачается nopic.gif 
#### parse_tululu_category.py

У скрипта есть 6 аргументов:

* --start_page с какой страницы начинать скачивать книги и --end_page на какой заканчивать, если вы не указываете до какой, то будет скачиваться до последней. 
* --dest_folder путь к каталогу куда скачивать все данные, по умолчанию путь скрипта. 
* --skip_txt и --skip_imgs, отвечают за то, пропускать ли скачивание книг или картинок, по умолчанию False.
* --json_path, путь к файлу .json куда записывать все данные о книгах, по умолчанию books_info.json в каталоге с скриптом.

Примеры команды:
    ```python parse_tululu_category.py -start 400 -end 501 --skip_imgs```
    
    ```python parse_tululu_category.py -start 600 --skip_txt --dest_folder C:\my_books```

Скачивание данных происходит также как и в предыдущем скрипте, за исключением того что появляется json файл с информацией по каждой книге, и в терминал выводится страница, и ссылка на каждую книгу.
